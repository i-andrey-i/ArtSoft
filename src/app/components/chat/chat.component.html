<div class="chat" *ngIf="selectedChat !== undefined">
	<div class="chat-header">
		<div class="chat-info">
			<button class="back-arrow" (click)="backToMain()">
				<img src="assets/img/back.svg" alt="back">
			</button>
			<div class="avatar"></div>
			<data>
				<h2>{{ selectedChat.name }}</h2>
				<p>last seen never</p>
			</data>
		</div>
		<div 
			class="back-to-main" 
			(click)="backToMain()"
			(keydown.enter)="backToMain()"
			tabindex="0"
			role="button"
		>
			<img src="assets/img/exit.svg" alt="back">
		</div>
	</div>

	<div class="chat-messages">

		<div
			*ngFor="let message of messages"
			class="message"
			[class.sent]="message.fromUserId"
			[@messageAnimation]
		>
			<div class="message-content">
				<p>{{ message.text }}</p>
				<span class="message-time">{{
					message.createdAt| date : 'shortTime'
				}}</span>
			</div>
		</div>

	</div>

	<div class="chat-input">
		<input
			type="text"
			placeholder="Write your message..."
			[(ngModel)]="newMessage"
			(keyup.enter)="onSendMessage()"
		/>
		<button (click)="onSendMessage()">
			<img src="assets/img/send-arrow.svg" alt="send">
		</button>
	</div>
</div>

<div class="no-chat-selected" *ngIf="selectedChat === null">
	<p>Select a chat to start messaging</p>
</div>